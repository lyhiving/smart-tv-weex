<template>
      <div style="width:100%;height:100%;background-color:#FFFFFF;">
          <div if="{{!isFullScreen}}" style="justify-content: center;align-items: center;background-color:#1E8DFF; height:88px;width:100%;">
            <text style="color:#FFFFFF;font-size:38px;">视频播放页</text>
          </div>
          <div if="{{showVideo}}" style="width:100%;height:{{FullScreenHeight}};   background-color:#000000">
              <video src="http://vod.cntv.lxdns.com/flash/mp4video55/TMS/2016/10/25/b49434d075404b46b146641fa8487095_h264418000nero_aac32.mp4"  onseek="onseek" onbufferingupdate="onbufferingupdate"
                style="width: 100%; flex:1; background-color:#000000;"></video>
              <text style="color:#FFFFFF;background-color:#FF0000;font-size:38px;padding:20px;position:absolute;z-index: 99;right: 0;bottom: 0; " onclick="toFullScreen">全屏切换</text>
          </div>
          <div if="{{!isFullScreen}}" style="justify-content: center;align-items: center;background-color:#EEEEEE; height:100%;flex:1;">
            <text style="color:#FF0000;font-size:20px;">内容</text>
            <text style="color:#FFFFFF;background-color:#FF0000;font-size:38px;padding:20px;position:absolute;z-index: 99; " onclick="toFullScreen">全屏切换</text>
          </div>

      </div>
</template>

<style>


</style>

<script>
module.exports = {
    data: {
      seekto:0,
      isFullScreen: false,
      FullScreenWidth:750,
      FullScreenHeight:1080,
      showVideo:true,

    },
    ready: function () {
      this.seekto = 1;
      //this.FullScreenWidth = (750/this.$getConfig().env.deviceHeight)*this.$getConfig().env.deviceWidth;
      this.FullScreenHeight = (750/this.$getConfig().env.deviceHeight)*this.$getConfig().env.deviceWidth;

    },

    methods: {

      onseek: function(param){
        require('@weex-module/STModule').log(param.type+"   "+param.currentposition+"     "+param.duration);
      },

      onbufferingupdate: function(param){
        require('@weex-module/STModule').log(param.type+"   "+param.currentposition+"     "+param.duration+"    "+param.bufferingupdate);
      },
      toFullScreen:function(param){
        if(this.isFullScreen){
          this.isFullScreen = false;
          var self = this;
          self.showVideo = false;
          require('@weex-module/STModule').setFullScreen(false);
          setTimeout(function(){
            self.showVideo = true;
          },300);
          
        }else{
          this.isFullScreen = true;
          var self = this;
          self.showVideo = false;
          require('@weex-module/STModule').setFullScreen(true);
          setTimeout(function(){
            self.showVideo = true;
          },300);
        }
        
        require('@weex-module/STModule').log("setFullScreen : "+this.isFullScreen);
      },

    },

}
</script>
